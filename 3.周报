2024.5.20-2024.5.24
1）局点补丁：西南科技大学 D078】硬盘高温告警风扇挡位忽高忽低
问题定位
代码编译
补丁制作及下发

2）问题单处理
SAD41907 【D095P05 电池】电池检测时，message打印日志记录信息有缺失
SAD43227 【南科技大学 D078】硬盘高温告警风扇挡位忽高忽低

3）海光进展跟踪
协助硬件完成海光bios验证及测试
bios009已发布

4）测试问题
定位大盘位2000 aspower电源sn号不对问题，改debug版本定位原因为电源flash信息中多了厂家信息，因此导致sn号读不到
定位yuyanicpu风扇日志打印系统风扇问题，已定位清楚，为旧代码逻辑不兼容cpu风扇排序在前问题
定位yuyanicpu风扇不在位不告警问题，原因：旧逻辑不支持cpu风扇不在位告警
定位许总cpu温度打印日常确认，定位：对比hwmon获取cpu温度方法，为cpu温度本身过高
定位xuechangan日志打印i2c设备获取不到问题，替换设备重复操作，原因：为设备问题 
定位yuyani风扇调速档位打印异常定位，分析原因：可能和硬件调档时间有关

其它：
周四晚上培训，熟悉存储知识架构

======================================================
2024.5.27-5.31
问题单处理：
AA05287 【需求单】CX1800 V200R002 国产存储BIOS 009版本合入ISO
SAD43243 【D111P02 6024@s】设备从32G（海力士）4的内存配置换成8G(创见)1后启动设备进不去系统 
SAD37746 【D075.59】【湛江机场】未进行电池容量检测
HWD116422 {CX3000 V300R001B02 }{0231C1F4}{软件试制问题}{0502C00K_101}软件实际读出的是9.20，与归档的版本实际不一致，请帮忙重新归档成一致的
SAD39561 ENVmonitor ethtool工具匹配网口需要同步修改ENVmonitor2和ENVmonitor 1 ，(定位中)
HWD96021 【CX3000 V300R001 整机适配700W电源模块的ACOK信号评估处理】评估存储设备的上的700W电源模块的ACOK信号是否去掉（找环境，找对应人沟通中）
HWD103437 [NI05MB48D Ver.A]温度传感器故障测试时，去掉主板温感LM75A，此时风扇应为最大转速保护设备；

U005过七款子卡单板整机测试进度：
1）排除问题为network_test.ko的影响
2）替换ko手动验证三款ok
3）制作U005重新验证中

测试问题定位：
yuyani大盘位电池检测问题，电池容量差异过大问题，已反馈硬件zhangjinzhou，为电池原因
yuyani风扇档位未告警定位，原因：为临界值，无需告警
协助王鑫D完成西南科技大学补丁验证工作
定位超融合不喂狗问题，原因：超融合单控设备中少lib.ha库,因此Monitor没拉起来，已提供库，已解决
协助济南测试完成iic测试验证

======================================================
2024.6.12-2024.6.14
HWD116284 【CX1800 V300R002 B01 116盘位子卡】116盘位搭配NI05IN4XG万兆卡PCIE3.0速率的外部眼图测试不通过，需软件限速为GEN2 AA10912 {CX1800 V200R002B02}{0235C67W}{0501C2ED_U003.01}{软件问题}双控48盘位海光存储切换CPU，装备测试时发现是系统读出的型号不全，导致装备测试失败，请解决


U005兼容HBA子卡新需求：
环境准备ok，脚本适配ok，工程ok，测试验证中，目前第一次做U盘会重启怀疑和没build有关，重新build制作验证中

V3风扇策略更改补丁：
补丁制作ok，16V3验证ok，3000V3环境U盘补丁准备ok协助xiepusheng验证中

CX1800V2装备适配800W电源：
目前发布U盘aspower测试不通过，原因厂家字符过长，驱动内测设备为1824V2最初不知发货为单电源，所以未发现风险发至产线
已及时提供U盘内测pass给yuzhentao

问题单处理：
定位：
（有风险）AA05028 【需求单】VX1600 V300R001 经济型BIOS 013版本合入ISO 验证驱动1648V3设备reboot重启不能进系统，wuyongqiang反馈1636-V3可以进系统
待进一步尝试，还未合入
HWD116284 【CX1800 V300R002 B01 116盘位子卡】116盘位搭配NI05IN4XG万兆卡PCIE3.0速率的外部眼图测试不通过，需软件限速为GEN2
审核：
AA10912 {CX1800 V200R002B02}{0235C67W}{0501C2ED_U003.01}{软件问题}双控48盘位海光存储切换CPU，装备测试时发现是系统读出的型号不全，导致装备测试失败，请解决
SAD40393 【D104】适配CX3048V2切换为单控设备，网口重命名
AA10380 【CX3000-V3CX1800-V3】Alder_Lake_S平台最新006版本BIOS已提供，请驱动合入


114版本验证

5000V2归档

1）定位chengjie 5000-H报Monitor: get busbartemperature，原因：电源有故障，更换电源，无异常反馈
 2）定位panliming海光004bios不能升009bios原因，已和厂家反馈， 
 3）问题单走单：AA13941 【需求单】5024-V2,5048-V2与6024需适配800W
1）定位大盘位2000w电源sn号不能读不全问题，与厂家沟通，新电源需修改eeprom大小，修改后加改版后电源，sn读取ok 2
）定位wangxinC 1648V3读取不到电源信息，通过版本回退比较，为背板歪针
 3）问题单处理： AA13938 【需求单】5024-V2,5048-V2与6024需适配800W AA05641 【D113 CX18116-V3】产线发货的设备配置的是2000W欧陆通的电源，未带SN码
1）问题单审核： AA03421 【D112 SDS-ARM】etccrontab文件中屏蔽掉有关ENVmonitor相关的定时任务脚本 
AA04592 【CX1886 D113】目前主线分支下的116装备脚本与106P05分支下的装备脚本有部分差异，请分析 AA11659 【CX1800 V300R002 B01 逻辑】NI05MB116S01004,NI05BK24SB01004逻辑需要合入114版本ISO SAD43036 【D111P01】1824-V3设备升级时，升级界面识别设备型号为1848-V3 2）U125制作，海光U003.03制作，经济型风扇补丁发布资料梳理

1）yuyani大盘位温度调档问题确认，需新增日志打印，已提单 2）cuihonbo ENVtool工具不支持调速到20000确认，已提单 3）王鑫D海光bios flash问题协助指导
U005子卡U盘?(已完成):1）已发至产线ok
CX1800V2装备适配800W电源?(已完成):已ok，产线反馈ok
风扇策略更改补丁?(执行中):16V3,3000V3均发产线，1800V3逻辑修改中，补丁已制作ok
适配CX50/CX6000V2的电源补丁?(执行中):1）6000V2ok已发布，5000V2完成测试ok。\\10.220.8.26\teamroom\P2软件部\0.驱动组\装备\装备测试\CX5000-V2\U124，问题单待走归档

问题单处理:
定位处理：
AA13941 【需求单】5024-V2,5048-V2与6024需适配800W
AA13938 【需求单】5024-V2,5048-V2与6024需适配800W
AA12816 【VX1600 V300R001 存储经济型设备 装备测试】009版本主板逻辑装备测试风扇模块高速测不过
AA12219 {CX1800 V200R001B01}{0235C38P}{0501C0GW_U125}{软件内测问题}双控存储切换800W电源，使用ASP的电源进行装备测试信息读取异常，请驱动定位
AA07031{CX3000 V300R001B05}{0302C4TT}{0501C2X3_U004}{软件问题}4XG卡单板测试批量光口在位失败（test optic 11 status），U盘软件使用U003版本测试通过，请定位
审核：
AA03421 【D112 SDS-ARM】etccrontab文件中屏蔽掉有关ENVmonitor相关的定时任务脚本
AA04592 【CX1886 D113】目前主线分支下的116装备脚本与106P05分支下的装备脚本有部分差异
AA11659 【CX1800 V300R002 B01 逻辑】NI05MB116S01004,NI05BK24SB01004逻辑需要合入114版本ISO
SAD43036 【D111P01】1824-V3设备升级时，升级界面识别设备型号为1848-V3

U005子卡U盘?：
已制作验证ok解决NI05IN4XG测试不过已经支持HBA卡问题
记录：\\10.220.8.26\teamroom\P2软件部\0.驱动组\装备\装备测试\V3子卡装备\第五版（V3所有子卡）

CX1800V2装备适配800W电源?：
已适配验证ok，发至产线
记录：\\10.220.8.26\teamroom\P2软件部\0.驱动组\装备\装备测试\CX18V2\U125（替换电源新）

适配CX50/CX6000V2的电源补丁：
搭建环境U盘补丁适配ok：
记录：\\10.220.8.26\teamroom\P2软件部\0.驱动组\装备\装备测试\CX5000-V2\U124

其它及测试问题：
114版本验证ok
定位panliming海光004bios不能升009bios原因，大概率和工具相关已和厂家反馈
定位wangxinC 1648V3读取不到电源信息，通过版本回退比较，为背板歪针
定位chengjie 5000-H报Monitor: get busbartemperature，原因：电源有故障，更换电源，无异常反馈
定位大盘位2000w电源sn号不能读不全问题，与厂家沟通，新电源需修改eeprom大小，修改后debug加改版后电源，sn读取ok，已提单
cuihonbo ENVtool工具不支持调速到20000确认，为新逻辑风扇最高速提升，ENVtool最高支持18000需适配已提单
王鑫D海光bios flash问题协助指导
yuyani大盘位温度调档问题确认，目前大盘位cpu温度提升也会调节系统风扇，旧程序不打印cpu温度需新增日志打印，已提单


2024.6.24-2024.6.28
定位修改：
AA12732 【需求单】5024-V2,5048-V2与6024需适配800W
AA15496 【V3子卡】U005修改合入子卡分支
AA15588 【支持3008_35X36 3000V3改版】适配背板eeprom功能
AA13490 【V3子卡】驱动需适配NI05HBA子卡
AA15350 【CX3000V3改版】message日志一直刷“failed to open the file usrlocalhstordriverENVmonitorcpunum_0”，需适配ENVmonitor 测试及其它问题
AA12219 {CX1800 V200R001B01}{0235C38P}{0501C0GW_U125}{软件内测问题}双控存储切换800W电源，使用ASP的电源进行装备测试信息读取异常，请驱动定位
AA05641 【D113 CX18116-V3】产线发货的设备配置的是2000W欧陆通的电源，未带SN码
SAD39561 ENVmonitor ethtool工具匹配网口需要同步修改ENVmonitor2和ENVmonitor 1
审核：
AA14491 【PMC子卡装备】PMC发布新fw，装备U盘更新
测试问题分析：
wanwanrong 3024-V2日志打印failed to get mainboard temperature from eeprom cur_reg_addr=90问题定位，通过同版本其它设备比较为设备本身问题

局点问题：
定位京东方换新电池依然告警问题，原因：换新电池需要热拔插才能恢复
75.64之前的版本，拔电池不会立马更新容量，得到凌晨二点之后进行容量检测，凌晨二点之后容量正常，数码管日志不高景

风扇策略更改补丁:
16V3,3000V3均发产线，1800V3逻辑修改中，补丁已制作ok

广州增城公安电池补丁:
75.55P04版本ok
对比75.55p04版本和75.59版本中间，找出替换libsnmp.so libsysm.so相应代码对比，编译中间版本Monitor电池验证中，目前容量检测正常，进度20%

适配CX50/CX6000V2的电源补丁:
均发至产线，待产线反馈

其它：
定位测试l李顺V2设备插万兆网卡，管理网口连不上问题，目前复现方法拔掉万兆网卡正常，待继续定位，原因为Monitor持续调用check_fw_version脚本有关，目前采取修改Monitor策略
sas控制器培训学习
liujingheng提供判断电池是否在位的脚本

2024.7.1-2024.7.5
问题单处理：
AA06049 ENVmonitor需要重新适配NI05MB48DA，现在系统内读不到主板和背板的信息，系统磁盘在位信息也是乱的
AA09065 NI05MB48DA在线升级bios需要驱动进行适配 AA09249 ENVmonitor需要对NI05MB48DA的I2C功能进行适配
SAD43312 【广州增城公安】电池检测 75.55P04到64版本的通用补丁
SAD43350 【需求单】原使用700W电源的存储V2设备需适配800w电源，并且装备测试得通过
AA15588 【支持3008_35X36 3000V3改版】适配背板eeprom功能
SAD43312 【广州增城公安】电池检测 75.55P04到64版本的通用补丁
审核：
AA17754 【D114】V3双控sync异常导致电源状态及型号两端查询不一致
审核 AA16193 【CX3000V3改版】修改cpld升级fw脚本check_config.sh适配改版 CX3024-V3CX3048-V3CX3060-V3，主板id修改有误，已退回

RW202406050011 - 广州增城公安电池补丁
环境搭建，版本修改，功能验证，资料发布
发布资料：\\10.220.8.26\版本\4.调试版本\IPSAN\IPSAN-R2201.75.59.H03

RW202406060010 - 风扇策略更改补丁
16V3,3000V3均发产线，1800V3逻辑修改中，补丁已制作ok

装备优化环境BOM配置
已搜寻海光bom码 

测试问题:
定位刘海龙海光服务器丢包情况，经对比定位为交换机原因
定位wanwangrong3060V3 3048V3上下控电池不一致原因，为SAD42527引入，xiepushen已给出解决方案，已解决
定位guanjiahao 5048-V2 power_date time不对原因，排除装备干扰大致原因为RTC时间设置有误，已反馈硬件

其它：
113P02 3008改版3024-V3版本验证
定位驱动3048-V3背板找不到问题，为背板原因，硬件已更换背板
协助zhangzhiling装备测试

===========================================================
2024.7.8-2024.7.12
问题单处理：
AA13014 【D113 CX18116-V3】116盘位主板温度高导致调高cpu风扇，日志未打印当前主板温度多少
AA13638 【113P01】CX1886-V3设备升级cpld 004，利用ENVtool模拟风扇高速告警，命令无法模拟，请适配
AA17900 【Monitor环境监测】check_fw_version脚本调用频率需修改为开机仅调用一次
SAD39561 ENVmonitor ethtool工具匹配网口需要同步修改ENVmonitor2和ENVmonitor 1
AA05652 【D113 CX18116-V3】设备cpu风扇有一个坏了，但日志告警打印的是系统风扇
AA13796 【6000 CPU3235 D111P02】6024搭配cpu(Hygon C86 3235  4-core Processor)，biso版本004，升级到版本D1110P02版本，设备一直告警，alarm黄灯常亮 （CCB）
AA05665 【D113 CX18116-V3】设备将cpu风扇全部拔出，不告警
AA04530 【D113 CX18116-V3】设备有告警的时候看界面和命令行下的系统指示灯显示的normal
HWD113525 【CX1800 V300R002 B01 116盘位系统测试】系统告警管理测试NG需驱动适配；

测试及局点问题：
熊哥环境cleanup不打印bond口原因定位：cleanup实现代码中使用了remove移除文件代码，remove只能移除文件夹，代码有误，不会删除bond配置文件 
王鑫D电池检测回归问题SAD41907显示电池容量检测时间打印不充分，本地验证ok，与设备当时性能有关，已提ccb评审
定位chengjie数码管卡28，拔插内存条ok
协助liupeng完成opensusu操作系统安装
定位西安吕婷VX1824V1从欧拉升95p01不能获取电子标签的原因：降至79版本失败，重升为95p01版本又ok，暂无定位结论，吕婷说后续复现
硬件电池分析件：硬件反馈电池容量检测等无误，软件需搭建环境来验证软件有误，验证中

===========================================================
2024.7.15-2024.7.19
问题单定位解决
AA24642 【CX18116 子卡速率】x710万兆子卡插入slot0需限速为GEN2
SAD43483 【点灯需求】 点灯命令修改，请实现当该槽位无磁盘, 也可对该槽位进行点灯的
SAD41712 【CX18114ENVmonitor】pclint消除
AA23358 【3300海光】海光同步修改至主线分支
AA08678 【D113P01 CX18116-V3】mib获取设备风扇有问题
审核：
AA16193【CX3000V3改版】修改cpld升级fw脚本check_config.sh适配改版 CX3024-V3CX3048-V3CX3060-V3
AA08749请驱动适配NI05MB48DA在线升级CPLD的功能

拓展槽：
a:目前需实现读取拓展槽pcb版本的需求，为通过i2c读取pca器件，阅读原理图，目前找不到相应的iic地址为42器件，可以找到44，还需继续同wuyongqiang分析

其它及测试问题：
a:B04版本走归档
b:114P01 1836-V3做快速改制：\\10.220.8.26\teamroom\P2软件部\0.驱动组\装备\装备测试\CX18V3\快速改制\114p01
c:协助lizhaowei完成装备测试
d:115版本管理走归档，进行中
e:Q3pbc填写

装备优化环境BOM配置?:
a:CX1836-V3 CX6048欧克

存储产品MIB归一化?:明确开发修改点，修改中，liusuqian请假中，需同步liusuqian修改接口验证

广州增城公安电池补丁?(已完成):测试已归档

===========================================================
2024.7.22-2024.7.26

一：问题单处理：
定位合入：
AA25892：【世平伟业渠道需求】适配万兆X550子卡适配网口重命名
AA26272 {VX1600 V300R001B01}{0235C6UX}{0501C2L2_IPSAN-R2201.114P01}{软件问题}后背板单板型号回显为异常，降主机版本，后背板版本恢复正常，请定位
审核：
AA04093 【D113】116设备zone3区域灯寄存器位置和之前系统灯位置均为0xfc20，大盘位环境切kdump的时候zone3区域灯和ALM灯同为8Hz黄灯闪烁 
AA25024 【CX1800 V300R002 B01 逻辑】NI05BK24SB01005逻辑需要合入ISO
SAD42594 【D110】设备重启的过程中报错：insmod ERROR could not insert module libmodules5.10.0kerneldriversscsisg.ko File 

二：产线问题：
a:处理1636-V3产线测试不过问题，为脚本问题，临时版本装备解决，周三已出补丁解决，记录已归档：
\\10.220.8.26\版本\4.调试版本\装备U盘软件\VX1600C-V3\U003\patch\U003.03
b:协助yuzhentao完成550w电源测试记录已归档：
\\10.220.8.26\teamroom\P2软件部\0.驱动组\个人共享文件\huangbangyi\share\2024.7.25 1824-V2 U125测试550W电源

三：装备优化环境BOM配置?(执行中):
CX3060-v3 CX3048-v3 CX1836-v3 CX1848-v3 CX6048已搜寻ok，进度50%

四：拓展槽：协助tanminhgon完成网卡适配，目前阻塞在上槽插3张i225下槽插万兆，不能过bios，以及拔卡过bios概率性不能进系统，继续跟踪

五：115版本验证