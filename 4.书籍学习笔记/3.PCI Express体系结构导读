pci桥分透明桥和非透明桥，非透明桥一般用于双处理器直接的数据交换

cat /proc/iomem  # 显示所有内存映射的IO区域
cat /proc/ioports  # 显示所有IO端口分配

3.2.1  PCI设备的正向译码与负向译码
******************************************************************************************************************
pci设备所在的域是pci总线域，存储器所在的域是存储域
******************************************************************************************************************

3.2.2  处理器到PCI设备的数据传送
******************************************************************************************************************
总线地址域是会映射到存储器域的
******************************************************************************************************************

3.2.3  PCI设备的DMA操作
******************************************************************************************************************


******************************************************************************************************************

3.2.4  PCI桥的Combining、 Merging和Collapsing
******************************************************************************************************************
combing把多个小的连续的写操作合并成一个大的写操作
merging把多个相邻的但不是连续的写操作融合成一个更大的写操作

******************************************************************************************************************

3.3  与Cache相关的PCI总线事务
******************************************************************************************************************
pci设备访问存储器必须经过host主桥，而host主桥通过FSB总线对存储器控制，需要进行cache一致性操作
******************************************************************************************************************

3.3.1  Cache一致性的基本概念
******************************************************************************************************************
MESI协议处理多个处理器之间的cache一致性（多核）
******************************************************************************************************************
3.3.2  PCI设备对不可Cache的存储器空间进行DMA读写
******************************************************************************************************************

******************************************************************************************************************

3.3.3  PCI设备对可Cache的存储器空间进行DMA读写
******************************************************************************************************************

******************************************************************************************************************

3.3.4  PCI设备进行DMA写时发生Cache命中
******************************************************************************************************************
host主桥访问的数据是一个状态位位M的cache行（估计就是和存储器的数据有所改变），如何host主桥延时处理，停止存储器写操作，然后
cpu将状态为M的cache与存储器同步后，HOST主桥再重新写

******************************************************************************************************************
3.3.5  DMA写时发生Cache命中的优化
******************************************************************************************************************

******************************************************************************************************************
3.4  预读机制
******************************************************************************************************************
在数据传输时，PCI主桥会提前从内存中读取（预取）一部分数据到自己的缓冲区，以便后续设备请求时能更快地响应，提高数据传输效率。
******************************************************************************************************************

4.1  PCIe总线的基础知识
******************************************************************************************************************

4.1.1 端到端的数据传递
******************************************************************************************************************
PCIE采取串行通信的方式端对端进行通信
******************************************************************************************************************

4.1.2  PCIe总线使用的信号
******************************************************************************************************************
有PERST复位信号 WAKE唤醒信号
******************************************************************************************************************

4.1.3  PCIe总线的层次结构
******************************************************************************************************************
事务层，数据链路层，物理层
******************************************************************************************************************

4.1.4  PCIe链路的扩展
******************************************************************************************************************
用pcie switch进行拓展
******************************************************************************************************************

4.1.5  PCIe设备的初始化
******************************************************************************************************************
传统：warm hot cold （时间长）
非传统：FLR （部分复位）
******************************************************************************************************************

4.2  PCIe体系结构的组成部件
******************************************************************************************************************
PCIE桥可以讲pcie总线转化为pci总线

******************************************************************************************************************
4.2.2  RC的组成结构
******************************************************************************************************************
******************************************************************************************************************

4.2.3  Switch
******************************************************************************************************************
switch中每一个端口对应一个虚拟pci桥
******************************************************************************************************************

4.2.4  VC和端口仲裁
******************************************************************************************************************

******************************************************************************************************************
4.2.5  PCIe?to?PCI/PCI?X桥片
******************************************************************************************************************

******************************************************************************************************************

4.3  PCIe设备的扩展配置空间
******************************************************************************************************************
pci配置空间由64个字节组成：0x00 ～0x3F（）


******************************************************************************************************************
4.3.1  Power Management Capability结构
******************************************************************************************************************
******************************************************************************************************************
